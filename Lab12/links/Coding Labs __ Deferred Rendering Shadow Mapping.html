<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0080)http://www.codinglabs.net/tutorial_opengl_deferred_rendering_shadow_mapping.aspx -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
	Coding Labs :: Deferred Rendering Shadow Mapping
</title>
    
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/jquery-1.7.2.min.js.download"></script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/lightbox.js.download"></script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/animatedcollapse.js.download"> </script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/generic.js.download"></script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/exitProcedure.js.download"></script>

    <link href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/Site.css" rel="stylesheet" type="text/css"><link href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/css" rel="stylesheet" type="text/css"><link href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/lightbox.css" rel="stylesheet" type="text/css"><meta http-equiv="content-language" content="en"><meta name="Abstract" content="Coding Labs: C++ Programming, Graphics, Tutorials and more. "><meta name="Author" content="Marco Alamia &#39;Mkr&#39;"><meta name="copyright" content="Coding Labs : Marco Alamia www.codinglabs.net"><meta name="keywords" content="code labs coding programming c++ asp asp.net php c# graphics code design game portfolio bios Marco Alamia Mkr alien labs orbital pool-o-matic pomb psyche zenith"><link rel="SHORTCUT ICON" href="http://www.codinglabs.net/images/favicon.ico">

    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/sh_main.min.js.download"></script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/sh_cpp.js.download"></script>
    <script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/sh_glsl.js.download"></script>
	
    <link href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/sh_style.css" rel="stylesheet" type="text/css">

    <script type="text/x-mathjax-config;executed=true">
	  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/MathJax.js.download">
	</script>
    <script type="text/javascript">
        animatedcollapse.addDiv('tutorials_div', 'fade=1,speed=400,group=menu,hide=1')
        animatedcollapse.addDiv('articles_div', 'fade=1,speed=400,group=menu,hide=1')
        animatedcollapse.addDiv('top_tutorials_div', 'fade=1,speed=400,group=menu2,hide=1')
        animatedcollapse.addDiv('top_articles_div', 'fade=1,speed=400,group=menu2,hide=1')
    </script>
    
<meta name="description" content="Coding Labs - Marco Alamia - Deferred Rendering Shadow Mapping">
    <script type="text/javascript">
        animatedcollapse.addDiv('tutorials_div', 'fade=1,speed=400,group=menu,hide=0')
        animatedcollapse.addDiv('articles_div', 'fade=1,speed=400,group=menu,hide=1')
        animatedcollapse.addDiv('top_tutorials_div', 'fade=1,speed=400,group=menu,hide=0')
        animatedcollapse.addDiv('top_articles_div', 'fade=1,speed=400,group=menu,hide=1')

        animatedcollapse.ontoggle = function ($, divobj, state) { }
        animatedcollapse.init()
    </script>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body bgcolor="#a8a8a8" style="font-size: 1.0em; text-align: justify; font-family: sans-serif; color:#3b3b3b; height:100%" onload="saveResolution();sh_highlightDocument(&#39;&#39;, &#39;.min.js&#39;);"><div id="MathJax_Message" style="display: none;"></div>
    <form method="post" action="http://www.codinglabs.net/tutorial_opengl_deferred_rendering_shadow_mapping.aspx" id="form1" style="width:100%; height:100%;">
<div class="aspNetHidden">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="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">
</div>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="101F5E5A">
</div>
	<center style="width:100%; height:100%;">
		<div class="Top-Menu">
            
<div style="padding:5px; width:100%; height:45px;">
    <p style="font-family: Vegur_Light, Gadget, sans-serif">
        <a href="http://www.codinglabs.net/default.aspx" class="MenuLink">
	        HOME
        </a>
        <a href="http://www.codinglabs.net/Authors.aspx" class="MenuLink">
	        AUTHOR
        </a>
        <a href="javascript:animatedcollapse.toggle(&#39;top_articles_div&#39;)" class="MenuLink">
	        +ARTICLES
        </a>
        <a href="javascript:animatedcollapse.toggle(&#39;top_tutorials_div&#39;)" class="MenuLink">
	        +TUTORIALS
        </a>
    </p>
</div>
<div id="top_articles_div" style="text-align: right; display: none;" groupname="menu" fade="1" speed="400">
    <span id="TopMainMenu_ArticlesEntries"><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_floating_point_numbers.aspx" class="SubMenuLink">Floating Point - Theory and Practice</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_gamma_vs_linear.aspx" class="SubMenuLink">Gamma and Linear Spaces</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_physically_based_rendering.aspx" class="SubMenuLink">Physically Based Rendering</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_physically_based_rendering_cook_torrance.aspx" class="SubMenuLink">Physically Based Rendering - CookTorrance</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_world_view_projection_matrix.aspx" class="SubMenuLink">World, View and Projection Transformation Matrices</a>
                 </td></tr></tbody></table></span>
</div>
<div id="top_tutorials_div" style="text-align: right; width: 100%; display: none;" groupname="menu" fade="1" speed="400">
    <span id="TopMainMenu_TutorialsEntries" style="display:inline-block;width:100%;"><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_compute_shaders_filters.aspx" class="SubMenuLink">Compute Shader Filters</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_CppRuntimeCodeReload.aspx" class="SubMenuLink">C++ Runtime Code Reload</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_memory_pool.aspx" class="SubMenuLink">Memory Pool</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_opengl_deferred_rendering_shadow_mapping.aspx" class="SubMenuLink">Deferred Rendering Shadow Mapping</a>
                 </td></tr></tbody></table><table style="width:100%px;"><tbody><tr><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_simple_def_rendering.aspx" class="SubMenuLink">Simple OpenGL Deferred Rendering</a>
                 </td></tr></tbody></table></span>
</div>
		</div>
		<table border="0" cellspacing="0" cellpadding="0" style="width:100%; height:100%">
			<tbody><tr style="width:100%; height:100%">
				<td class="MainContainer">
					<table border="0" cellspacing="0" cellpadding="0" style="width:100%; height:100%">
						<tbody><tr style="width:100%; height:100%">
							<td class="Left-Menu">
					            <table border="0" cellspacing="0" cellpadding="0" style="width:100%; height:100%">
						            <tbody><tr style="width:100%; height:50px">
							            <td>
                                            

<div style="padding-right:28px; padding-top:36px; width:91%; text-align:right">
    <a href="http://www.codinglabs.net/default.aspx" class="MenuLink">
	    HOME<br>
    </a>
    <a href="http://www.codinglabs.net/Authors.aspx" class="MenuLink">
	    AUTHOR<br>
    </a>
    <a href="http://www.codinglabs.net/MixEdit.aspx" class="MenuLink" style="vertical-align:middle">
	    <img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/vsicon.png" border="0">
	    MIXEDIT
        <br>
    </a>
    <a href="javascript:animatedcollapse.toggle(&#39;articles_div&#39;)" class="MenuLink">
	    +ARTICLES<br>
    </a>
    <div id="articles_div" style="text-align: right; width: 100%; display: none;" groupname="menu" fade="1" speed="400">
        <span id="Menu_ArticlesEntries"><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_floating_point_numbers.aspx" class="SubMenuLink">Floating Point - Theory and Practice</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_gamma_vs_linear.aspx" class="SubMenuLink">Gamma and Linear Spaces</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_physically_based_rendering.aspx" class="SubMenuLink">Physically Based Rendering</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_physically_based_rendering_cook_torrance.aspx" class="SubMenuLink">Physically Based Rendering - CookTorrance</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/article_world_view_projection_matrix.aspx" class="SubMenuLink">World, View and Projection Transformation Matrices</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table></span>
    </div>
    <a href="javascript:animatedcollapse.toggle(&#39;tutorials_div&#39;)" class="MenuLink">
	    +TUTORIALS<br>
    </a>
    <div id="tutorials_div" style="text-align: right; width: 100%;" groupname="menu" fade="1" speed="400">
        <span id="Menu_TutorialsEntries" style="display:inline-block;width:100%;"><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_compute_shaders_filters.aspx" class="SubMenuLink">Compute Shader Filters</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_CppRuntimeCodeReload.aspx" class="SubMenuLink">C++ Runtime Code Reload</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_memory_pool.aspx" class="SubMenuLink">Memory Pool</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_opengl_deferred_rendering_shadow_mapping.aspx" class="SubMenuLink">Deferred Rendering Shadow Mapping</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table><table style="width:100%px; float:right;"><tbody><tr><td style="padding-right:5px;">
                 <a href="http://www.codinglabs.net/tutorial_simple_def_rendering.aspx" class="SubMenuLink">Simple OpenGL Deferred Rendering</a>
                 </td><td style="width:1px; background-color:#d37928; font-size:0.1px">&nbsp;
                 </td></tr></tbody></table></span>
    </div>
</div>
                                             
                                        </td>
                                    </tr>
                                    <tr style="width:100%; height:100%; vertical-align:bottom;">
							            <td>
								            <img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/logo_white.png" style="float:right; margin-right: 25px" alt="Coding Labs">
                                        </td>
                                    </tr>
					            </tbody></table>
							</td>
							<td class="Body">
                                
	<span id="MainContent_PageContent"><h1>Tutorial - Deferred Rendering Shadow Mapping</h1><hr><br><p>
	In this tutorial I will present the <strong>shadow mapping</strong> technique implemented in a <strong>deferred renderer</strong>. This tutorial will lean on a previous one, <a href="http://www.codinglabs.net/tutorial_simple_def_rendering.aspx">Simple Deferred Rendering in OpenGL</a>; I strongly reccomend you to read it before proceeding with this tutorial as most of the code is shared and I will not present those bits that have already been covered in the other tutorial.</p>
<p>
	&nbsp;</p>
<p>
	<strong>Shadow Mapping</strong> is the most widely used technique in real time rendering engines today. Almost every game uses some sort of shadow mapping technique to render its shadows, even if often the actual implementation relies on extensions of the basic shadow mapping that we will see in this tutorial. Some more advanced implementations are Cascade Shadow Mapping, Soft Shadow Mapping, Parallel Split Shadow Mapping, etc etc. For this tutorial we will simply try to understand the basics ideas that all these techniques use, which is using a texture (map) to encode useful information to render shadows.</p>
<p>
	&nbsp;</p>
<p>
	&nbsp;</p>
<p>
	&nbsp;</p>
<table border="0" cellpadding="5" cellspacing="0" style="width: 100%;">
	<tbody>
		<tr style="background-color: rgb(141, 141, 141);">
			<td style="width: 30px;">
				&nbsp;</td>
			<td style="text-align: center;">
				<a href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/deferred_rendering_shadow_mapping_1.jpg" rel="lightbox[roadtrip]" title="Final result"><img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/deferred_rendering_shadow_mapping_1.jpg" style="border-width: 1px; border-style: solid; height: 109px; width: 150px;"></a></td>
			<td style="text-align: center;">
				<a href="./Coding Labs __ Deferred Rendering Shadow Mapping_files/deferred_rendering_shadow_mapping_2.jpg" rel="lightbox[roadtrip]" title="The three data textures composing the G-Buffer"><img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/deferred_rendering_shadow_mapping_2.jpg" style="border-width: 1px; border-style: solid; height: 109px; width: 150px;"></a></td>
			<td style="text-align: center; width: 30px;">
				&nbsp;</td>
		</tr>
	</tbody>
</table>
<p>
	Determining whether a pixel is in shadow or if it's lit by a given light is a visibility problem. What we want to test is if that specific point in the world is visible or not from the light point of view. We apply this idea to <strong>every pixel</strong> that we are rendering on screen thus what we want to do is to calculate what position each pixel is mapped to in world space. Once we have the position <strong>we can cast a ray back to the light</strong>. If the ray can reach the light without being interrupted, the pixel is in light, otherwise is in shadow. Watch the picture below (Figure 1). You can see how the two point are both visible from the camera, but just one is visible from the light.</p>
<table border="0" cellpadding="1" cellspacing="1" style="width: 100%;">
	<tbody>
		<tr>
			<td style="text-align: center;">
				<img alt="" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/pixel_visibility.jpg" style="width: 680px; height: 401px;"></td>
		</tr>
		<tr>
			<td style="text-align: center;">
				<em>Figure 1: Points in shadow and in light</em></td>
		</tr>
	</tbody>
</table>
<p>
	So now we know the principle and we can proceed to the practice. How can we determine whether a pixel (remapped in world) is visible or not from the light position. There are many many ways, but the one we are going to implement takes advantage of the ability of the GPU to render the depth of a scene. So if we set an <strong>imaginary camera in the light position</strong> and we render the depth of the scene as seen from the light what we get is a texture that contains a bunch of distances. Every pixel of this <strong>shadow map</strong> can be remapped in world space and will tell you what pixel the light see and how far that point is from the light itself. Watch Figure 2 below. The first point, P1, is visible from both the camera point of view and the light point of view. So if when we render it we also calculate its world position and then calculate the distance from the light we can compare it with the distance saved in the shadow map. When we compare P1's distance we will find that the value we calculate is the same value contained in the map (minus some error due to the way we store depth in the map). This because the pixel is visible frome the light point of view.&nbsp;<br>
	If we try to do the same with P2 we'll find a substantial difference. Say we calculate P2 in world space and then we calculate the distance between P2 in world space and the light as we did for P1. Now, if we compare the calculated distance with the distance saved in the shadow map we'll find that the one in the map is way smaller than the one we have just calculated. This because in the map the light will have the distance between P3 and the light itself. In fact, if you see from the light point of view P2 and P3 are overlapped, and since P3 is the closest one it "overrides" P2 which is then not visible. This tells us that P2 is in shadow.</p>
<p>
	&nbsp;</p>
<table border="0" cellpadding="1" cellspacing="1" style="width: 100%;">
	<tbody>
		<tr>
			<td style="text-align: center;">
				<img alt="" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/pixel_visibility_povs.jpg" style="width: 680px; height: 468px;"></td>
		</tr>
		<tr>
			<td style="text-align: center;">
				<em>Figure 2: Points in shadow and in light seen from light and camera</em></td>
		</tr>
	</tbody>
</table>
<p>
	This is all you need to implement shadow mapping. Let's see the sample code and let's try to make it as clear as possible.</p>
<hr>
<table border="0" cellpadding="1" cellspacing="1" style="width: 100%; ">
	<tbody>
		<tr>
			<td style="width:20px; font-weight:bold; font-size:20px; vertical-align:top">
				<h3>
					1</h3>
			</td>
			<td style="vertical-align: top; padding-left: 30Px; text-align:justify">
				<p>
					I'll try to present the code not from the first to the last line but instead picking various funcionality and explaining what is doing what. So, let's start from the the rendering function.</p>
				<pre class="sh_cpp sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:680px; overflow:auto"><span class="sh_comment">/**</span>
<span class="sh_comment">*	Render the scene</span>
<span class="sh_comment">*/</span>
<span class="sh_type">void</span> GLApplication<span class="sh_symbol">::</span><span class="sh_function">render</span><span class="sh_symbol">()</span> 
<span class="sh_cbracket">{</span>
    <span class="sh_function">glClear</span><span class="sh_symbol">(</span>GL_COLOR_BUFFER_BIT <span class="sh_symbol">|</span> GL_DEPTH_BUFFER_BIT<span class="sh_symbol">);</span>
    <span class="sh_function">glClearColor</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">.</span>2f<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">.</span>3f<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">.</span>8f<span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">);</span>

    <span class="sh_comment">// We move the near plane just a bit to make the depth texture a bit more visible. </span>
    <span class="sh_comment">// It also increases the precision.</span>
    <span class="sh_function">glMatrixMode</span><span class="sh_symbol">(</span>GL_PROJECTION<span class="sh_symbol">);</span>

    <span class="sh_function">glPushMatrix</span><span class="sh_symbol">();</span>
    <span class="sh_function">glLoadIdentity</span><span class="sh_symbol">();</span>
    <span class="sh_function">gluPerspective</span><span class="sh_symbol">(</span><span class="sh_number">20</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">40</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">,</span> <span class="sh_number">70</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">);</span>

    <span class="sh_comment">// Set the light position</span>
    <span class="sh_function">glMatrixMode</span><span class="sh_symbol">(</span>GL_MODELVIEW<span class="sh_symbol">);</span>
    <span class="sh_function">glLoadIdentity</span><span class="sh_symbol">();</span>
    <span class="sh_function">glRotatef</span><span class="sh_symbol">(</span><span class="sh_number">55</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
    <span class="sh_function">glRotatef</span><span class="sh_symbol">(-</span><span class="sh_number">45</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
    <span class="sh_function">glTranslatef</span><span class="sh_symbol">(-</span><span class="sh_number">25</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">,</span> <span class="sh_symbol">-</span><span class="sh_number">50</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">,</span> <span class="sh_symbol">-</span><span class="sh_number">25</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">);</span>
    <span class="sh_function">glRotatef</span><span class="sh_symbol">(</span>m_lightRotation<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
    <span class="sh_function">glFrontFace</span><span class="sh_symbol">(</span>GL_CW<span class="sh_symbol">);</span>
</pre>
				To start we want to acquire the shadow map, therefore we position the camera in the light's position and we orient it so that it looks down to the scene. We also flip from the standard CCW to CW when rendering the shadow map. This is a nice trick that works as far as every object is "closed". Flipping to CW renders the object "inside out" which means that we will use the back faces for comparing the distances reducing the shadow acne that typically shows up with shadow mapping. This is not mandatory, it just helps a bit in most of the cases (but make it worst in others).
				<pre class="sh_cpp sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:680px; overflow:auto">    <span style="color:#3f7f59; "><span class="sh_comment">// Render the shadow map</span></span>
    m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">startRenderToShadowMap</span><span class="sh_symbol">();</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_keyword">for</span></span><span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">int</span></span> i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span> i<span class="sh_symbol">&lt;</span>c_modelsCount<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span>
        m_models<span class="sh_symbol">[</span>i<span class="sh_symbol">]-&gt;</span><span class="sh_function">render</span><span class="sh_symbol">();</span>
    m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">stopRenderToShadowMap</span><span class="sh_symbol">();</span>

</pre>
				We then render all the models into the shadow map. We'll check how the shadow map is created in a moment, for now all we need to know is that here we render all the models' depth into a texture.<br>
				Once we have finished with the shadow map we save the matrices and reset everything.<br>
				<pre class="sh_cpp sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:680px; overflow:auto">    <span style="color:#3f7f59; "><span class="sh_comment">// We then save out the matrices and send them to the deferred rendering, so when it comes to do the deferred pass</span></span>
    <span style="color:#3f7f59; "><span class="sh_comment">// it can project the pixel it's rendering to the light and see if it's in shadows</span></span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span> worldToLightViewMatrix<span class="sh_symbol">[</span><span class="sh_number">16</span><span class="sh_symbol">];</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span> lightViewToProjectionMatrix<span class="sh_symbol">[</span><span class="sh_number">16</span><span class="sh_symbol">];</span>
    <span class="sh_function">glGetFloatv</span><span class="sh_symbol">(</span>GL_MODELVIEW_MATRIX<span class="sh_symbol">,</span> worldToLightViewMatrix<span class="sh_symbol">);</span>
    <span class="sh_function">glGetFloatv</span><span class="sh_symbol">(</span>GL_PROJECTION_MATRIX<span class="sh_symbol">,</span> lightViewToProjectionMatrix<span class="sh_symbol">);</span>

    <span style="color:#3f7f59; "><span class="sh_comment">// Re-set the projection to the default one we have pushed on the stack</span></span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_function">glMatrixMode</span></span><span class="sh_symbol">(</span>GL_PROJECTION<span class="sh_symbol">);</span>
    <span class="sh_function">glPopMatrix</span><span class="sh_symbol">();</span>

    <span style="color:#3f7f59; "><span class="sh_comment">// Set the camera position</span></span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_function">glMatrixMode</span></span><span class="sh_symbol">(</span>GL_MODELVIEW<span class="sh_symbol">);</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_function">glLoadIdentity</span></span><span class="sh_symbol">();</span>
    <span class="sh_function">glRotatef</span><span class="sh_symbol">(</span><span class="sh_number">20</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
    <span class="sh_function">glTranslatef</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">,-</span><span class="sh_number">6</span><span class="sh_symbol">.</span>5f<span class="sh_symbol">,-</span><span class="sh_number">11</span><span class="sh_symbol">.</span>0f<span class="sh_symbol">);</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_function">glFrontFace</span></span><span class="sh_symbol">(</span>GL_CCW<span class="sh_symbol">);</span>

    <span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span> worldToCameraViewMatrix<span class="sh_symbol">[</span><span class="sh_number">16</span><span class="sh_symbol">];</span>
    <span class="sh_function">glGetFloatv</span><span class="sh_symbol">(</span>GL_MODELVIEW_MATRIX<span class="sh_symbol">,</span> worldToCameraViewMatrix<span class="sh_symbol">);</span>
</pre>
				We store the matrices in some local variables because we need to provide them to the shader to reproject the pixels back in world and into the light clip/projection space. Notice that we also restore the renderer back to render faces CCW.<br>
				<pre class="sh_cpp sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:680px; overflow:auto">    <span style="color:#3f7f59; "><span class="sh_comment">// Render our geometry into the FBO</span></span>
    m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">startRenderToFBO</span><span class="sh_symbol">();</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_keyword">for</span></span><span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">int</span></span> i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span> i<span class="sh_symbol">&lt;</span>c_modelsCount<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span>
        m_models<span class="sh_symbol">[</span>i<span class="sh_symbol">]-&gt;</span><span class="sh_function">render</span><span class="sh_symbol">();</span>
    m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">stopRenderToFBO</span><span class="sh_symbol">();</span>

    <span style="color:#3f7f59; "><span class="sh_comment">// Render to the screen</span></span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_keyword">if</span></span><span class="sh_symbol">(</span>m_state <span class="sh_symbol">==</span> <span class="sh_number">0</span><span class="sh_symbol">)</span>
    <span class="sh_cbracket">{</span>
        <span style="color:#3f7f59; "><span class="sh_comment">// Render to screen using the deferred rendering shader</span></span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">setLightMatrices</span><span class="sh_symbol">(</span>worldToLightViewMatrix<span class="sh_symbol">,</span> lightViewToProjectionMatrix<span class="sh_symbol">,</span> worldToCameraViewMatrix<span class="sh_symbol">);</span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">render</span><span class="sh_symbol">();</span>
    <span class="sh_cbracket">}</span>
    <span style="color:#7f0055; font-weight:bold; "><span class="sh_keyword">else</span></span> <span style="color:#7f0055; font-weight:bold; "><span class="sh_keyword">if</span></span><span class="sh_symbol">(</span>m_state <span class="sh_symbol">==</span> <span class="sh_number">1</span><span class="sh_symbol">)</span>
    <span class="sh_cbracket">{</span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">showTexture</span><span class="sh_symbol">(</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowWidth<span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowHeight<span class="sh_symbol">,</span> <span class="sh_number">512</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">showTexture</span><span class="sh_symbol">(</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowWidth<span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowHeight<span class="sh_symbol">,</span> <span class="sh_number">512</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">,</span> <span class="sh_number">512</span><span class="sh_symbol">);</span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">showTexture</span><span class="sh_symbol">(</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowWidth<span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowHeight<span class="sh_symbol">,</span> <span class="sh_number">512</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">);</span>
        m_deferredRendering<span class="sh_symbol">-&gt;</span><span class="sh_function">showShadowMap</span><span class="sh_symbol">(</span>  <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowWidth<span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span style="color:#7f0055; font-weight:bold; "><span class="sh_type">float</span></span><span class="sh_symbol">)</span>m_windowHeight<span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">,</span> <span class="sh_number">512</span><span class="sh_symbol">,</span> <span class="sh_number">384</span><span class="sh_symbol">);</span>
    <span class="sh_cbracket">}</span>

    <span style="color:#7f0055; font-weight:bold; "><span class="sh_function">SwapBuffers</span></span><span class="sh_symbol">(</span>m_hdc<span class="sh_symbol">);</span>    
<span class="sh_cbracket">}</span>
</pre>
				<p>
					This is the core of the rendering procedure. Summarizing we acquire the shadow map, save the matrices, send the matrices to the shader and then render. So we now have to see in detail two more things: how we create and use the shadow map and, the most important one, the shader that composes and renders the final frame.</p>
			</td>
		</tr>
	</tbody>
</table>
<hr>
<table border="0" cellpadding="1" cellspacing="1" style="width: 100%; ">
	<tbody>
		<tr>
			<td style="width:20px; font-weight:bold; font-size:20px; vertical-align:top">
				<h3>
					2</h3>
			</td>
			<td style="vertical-align: top; padding-left: 30Px; text-align:justify">
				<p>
					Let's see how do we capture the shadow map. Since all we need to store in the shadow map is the depth, we don't have to create a colour render target. All we need is a render target that can receive depth. To isolate this feature I've created a class called&nbsp;<span style="color:blue;">DepthRenderTexture </span>which provides some methods to render the depth into the render target and some debug functionality to show the render target as a texture. The constructor of this class tells OpenGL that we only want to render depth into an FBO:</p>
				<pre class="sh_cpp sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:680px; overflow:auto"><span class="sh_comment">// Generate the OGL resources for what we need</span>
<span class="sh_function">glGenFramebuffersEXT</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>m_fbo<span class="sh_symbol">);</span>
<span class="sh_function">glGenRenderbuffersEXT</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>m_depthBufferRT<span class="sh_symbol">);</span>

<span class="sh_comment">// Bind the FBO so that the next operations will be bound to it</span>
<span class="sh_function">glBindFramebufferEXT</span><span class="sh_symbol">(</span>GL_FRAMEBUFFER_EXT<span class="sh_symbol">,</span> m_fbo<span class="sh_symbol">);</span>

<span class="sh_comment">// Bind the depth buffer</span>
<span class="sh_function">glBindRenderbufferEXT</span><span class="sh_symbol">(</span>GL_RENDERBUFFER_EXT<span class="sh_symbol">,</span> m_depthBufferRT<span class="sh_symbol">);</span>
<span class="sh_function">glRenderbufferStorageEXT</span><span class="sh_symbol">(</span>GL_RENDERBUFFER_EXT<span class="sh_symbol">,</span> GL_DEPTH_COMPONENT24<span class="sh_symbol">,</span> m_width<span class="sh_symbol">,</span> m_height<span class="sh_symbol">);</span>
<span class="sh_function">glFramebufferRenderbufferEXT</span><span class="sh_symbol">(</span>GL_FRAMEBUFFER_EXT<span class="sh_symbol">,</span> GL_DEPTH_ATTACHMENT_EXT<span class="sh_symbol">,</span> GL_RENDERBUFFER_EXT<span class="sh_symbol">,</span> m_depthBufferRT<span class="sh_symbol">);</span>

<span class="sh_comment">// Generate and bind the OGL texture for diffuse</span>
<span class="sh_function">glGenTextures</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>m_depthTexture<span class="sh_symbol">);</span>
<span class="sh_function">glBindTexture</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> m_depthTexture<span class="sh_symbol">);</span>
<span class="sh_function">glTexParameteri</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> GL_TEXTURE_MIN_FILTER<span class="sh_symbol">,</span> GL_LINEAR<span class="sh_symbol">);</span>
<span class="sh_function">glTexParameteri</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> GL_TEXTURE_MAG_FILTER<span class="sh_symbol">,</span> GL_LINEAR<span class="sh_symbol">);</span>
<span class="sh_function">glTexParameteri</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> GL_TEXTURE_WRAP_S<span class="sh_symbol">,</span> GL_CLAMP_TO_EDGE<span class="sh_symbol">);</span>
<span class="sh_function">glTexParameteri</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> GL_TEXTURE_WRAP_T<span class="sh_symbol">,</span> GL_CLAMP_TO_EDGE<span class="sh_symbol">);</span>
<span class="sh_function">glTexImage2D</span><span class="sh_symbol">(</span>GL_TEXTURE_2D<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> GL_DEPTH_COMPONENT24<span class="sh_symbol">,</span> m_width<span class="sh_symbol">,</span> m_height<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">,</span> GL_DEPTH_COMPONENT<span class="sh_symbol">,</span> GL_UNSIGNED_INT<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>
&nbsp;&nbsp;&nbsp; 
<span class="sh_comment">// Attach the texture to the FBO</span>
<span class="sh_function">glFramebufferTexture2D</span><span class="sh_symbol">(</span>GL_FRAMEBUFFER_EXT<span class="sh_symbol">,</span> GL_DEPTH_ATTACHMENT<span class="sh_symbol">,</span> GL_TEXTURE_2D<span class="sh_symbol">,</span> m_depthTexture<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span>

<span class="sh_comment">// Check if all worked fine and unbind the FBO</span>
<span class="sh_usertype">GLenum</span><span class="sh_normal"> </span>status <span class="sh_symbol">=</span> <span class="sh_function">glCheckFramebufferStatusEXT</span><span class="sh_symbol">(</span>GL_FRAMEBUFFER_EXT<span class="sh_symbol">);</span>
<span class="sh_keyword">if</span><span class="sh_symbol">(</span> status <span class="sh_symbol">!=</span> GL_FRAMEBUFFER_COMPLETE_EXT<span class="sh_symbol">)</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> std<span class="sh_symbol">::</span><span class="sh_function">exception</span><span class="sh_symbol">(</span><span class="sh_string">"Can't initialize an FBO render texture. FBO initialization failed."</span><span class="sh_symbol">);</span>

<span class="sh_function">glBindFramebufferEXT</span><span class="sh_symbol">(</span>GL_FRAMEBUFFER_EXT<span class="sh_symbol">,</span> <span class="sh_number">0</span><span class="sh_symbol">);</span></pre>
				<p>
					Once the OpenGL resource is created we can acquire the texture as we would do with a normal FBO. This is wrapped by the start and stop methods.<br>
					Now that we have the depth map we can finally proceed to render our shadow in the main scene.</p>
				<p>
					&nbsp;</p>
			</td>
		</tr>
	</tbody>
</table>
<hr>
<table border="0" cellpadding="5" cellspacing="0" style="width: 100%;">
	<tbody>
		<tr>
			<td style="width:20px; font-weight:bold; font-size:20px; vertical-align:top">
				<h3>
					3</h3>
			</td>
			<td style="vertical-align: top; padding-left: 30Px">
				<p>
					We are now to the last step of this tutorial. How to combine everything and define whether a pixel is in shadow or not. All the magic happens in the shader, so we will now analyze it bit by bit.</p>
				<pre class="sh_glsl sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:670px; overflow:auto"><span style="font-size: 9pt;"><span class="sh_keyword">uniform</span> <span class="sh_type">sampler2D</span> tDiffuse<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">sampler2D</span> tPosition<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">sampler2D</span> tNormals<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">sampler2D</span> tShadowMap<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">vec3</span> cameraPosition<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">mat4</span> worldToLightViewMatrix<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">mat4</span> lightViewToProjectionMatrix<span class="sh_symbol">;</span>
<span class="sh_keyword">uniform</span> <span class="sh_type">mat4</span> worldToCameraViewMatrix<span class="sh_symbol">;</span>

<span class="sh_type">float</span> <span class="sh_function">readShadowMap</span><span class="sh_symbol">(</span><span class="sh_type">vec3</span> eyeDir<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span><span class="sh_symbol">...</span><span class="sh_cbracket">}</span>

<span class="sh_type">void</span> <span class="sh_function">main</span><span class="sh_symbol">(</span> <span class="sh_type">void</span> <span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
    <span class="sh_comment">// Read the data from the textures</span>
    <span class="sh_type">vec4</span> image <span class="sh_symbol">=</span> <span class="sh_predef_func">texture2D</span><span class="sh_symbol">(</span> tDiffuse<span class="sh_symbol">,</span> <span class="sh_predef_var">gl_TexCoord</span><span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span><span class="sh_predef_var">.xy</span> <span class="sh_symbol">);</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec4</span> position <span class="sh_symbol">=</span> <span class="sh_predef_func">texture2D</span><span class="sh_symbol">(</span> tPosition<span class="sh_symbol">,</span> <span class="sh_predef_var">gl_TexCoord</span><span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span><span class="sh_predef_var">.xy</span> <span class="sh_symbol">);</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec4</span> normal <span class="sh_symbol">=</span> <span class="sh_predef_func">texture2D</span><span class="sh_symbol">(</span> tNormals<span class="sh_symbol">,</span> <span class="sh_predef_var">gl_TexCoord</span><span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span><span class="sh_predef_var">.xy</span> <span class="sh_symbol">);</span>

</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">mat4</span> lightViewToWolrdMatrix <span class="sh_symbol">=</span> <span class="sh_function">inverse</span><span class="sh_symbol">(</span>worldToLightViewMatrix<span class="sh_symbol">);</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec3</span> light <span class="sh_symbol">=</span> lightViewToWolrdMatrix<span class="sh_symbol">[</span><span class="sh_number">3</span><span class="sh_symbol">]</span><span class="sh_predef_var">.xyz</span><span class="sh_symbol">;</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec3</span> lightDir <span class="sh_symbol">=</span> light <span class="sh_symbol">-</span> position<span class="sh_predef_var">.xyz</span><span class="sh_symbol">;</span>

</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;">normal <span class="sh_symbol">=</span> <span class="sh_predef_func">normalize</span><span class="sh_symbol">(</span>normal<span class="sh_symbol">);</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;">lightDir <span class="sh_symbol">=</span> <span class="sh_predef_func">normalize</span><span class="sh_symbol">(</span>lightDir<span class="sh_symbol">);</span>

</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec3</span> eyeDir <span class="sh_symbol">=</span> position<span class="sh_predef_var">.xyz</span> <span class="sh_symbol">-</span> cameraPosition<span class="sh_symbol">;</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">vec3</span> reflectedEyeVector <span class="sh_symbol">=</span> <span class="sh_predef_func">normalize</span><span class="sh_symbol">(</span><span class="sh_predef_func">reflect</span><span class="sh_symbol">(</span>eyeDir<span class="sh_symbol">,</span> normal<span class="sh_symbol">));</span>

</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">float</span> shadow <span class="sh_symbol">=</span> <span class="sh_function">readShadowMap</span><span class="sh_symbol">(</span>eyeDir<span class="sh_symbol">);</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">float</span> diffuseLight <span class="sh_symbol">=</span> <span class="sh_predef_func">max</span><span class="sh_symbol">(</span><span class="sh_predef_func">dot</span><span class="sh_symbol">(</span>normal<span class="sh_symbol">,</span>lightDir<span class="sh_symbol">),</span><span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_symbol">*</span> shadow<span class="sh_symbol">;</span>
</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_type">float</span> ambientLight <span class="sh_symbol">=</span> <span class="sh_number">0.1</span><span class="sh_symbol">;</span>

</span><span style="font-size: 9pt;">    </span><span style="font-size: 9pt;"><span class="sh_predef_var">gl_FragColor</span> <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>diffuseLight <span class="sh_symbol">+</span> ambientLight <span class="sh_symbol">)</span> <span class="sh_symbol">*</span> image <span class="sh_symbol">+</span> <span class="sh_predef_func">pow</span><span class="sh_symbol">(</span><span class="sh_predef_func">max</span><span class="sh_symbol">(</span><span class="sh_predef_func">dot</span><span class="sh_symbol">(</span>lightDir<span class="sh_symbol">,</span>reflectedEyeVector<span class="sh_symbol">),</span><span class="sh_number">0.0</span><span class="sh_symbol">),</span> <span class="sh_number">100</span><span class="sh_symbol">)</span> <span class="sh_symbol">*</span> <span class="sh_number">1.5</span> <span class="sh_symbol">*</span> shadow<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span></span><span style="font-size: 9pt;"><span class="sh_symbol">;</span>&nbsp;</span></pre>
				<p>
					So what's different from the previous tutorial? For a start we now read the light position from the light matrix (since we have it), &nbsp; but the important bit is obviously the line that calls readShadowMap(eyeDir). At that line we call the funcion that given the camera to pixel vector decides if the pixel we see is in shadow or not. We will see the function in a moment. The shadow value ranges between 0.0 to 1.0. We then use this value to make the diffuse light black and to kill the specular reflection.<br>
					The function that does all the complex math is readShadowMap. This function takes the vector camera to pixel's world position and find where this point is in the shadow map.</p>
				<pre class="sh_glsl sh_sourceCode" style="font-family:courier;font-size:9pt; background-color:#ffffff; padding: 5Px; width:670px; overflow:auto"><span class="sh_type">float</span> <span class="sh_function">readShadowMap</span><span class="sh_symbol">(</span><span class="sh_type">vec3</span> eyeDir<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
    <span class="sh_type">mat4</span> cameraViewToWorldMatrix <span class="sh_symbol">=</span> <span class="sh_function">inverse</span><span class="sh_symbol">(</span>worldToCameraViewMatrix<span class="sh_symbol">);</span>
<span style="font-size: 9pt;">    </span><span class="sh_type">mat4</span> cameraViewToProjectedLightSpace <span class="sh_symbol">=</span> lightViewToProjectionMatrix <span class="sh_symbol">*</span> worldToLightViewMatrix <span class="sh_symbol">*</span> c<span style="font-size: 9pt;">ameraViewToWorldMatrix<span class="sh_symbol">;</span></span><span class="sh_type">vec4</span> projectedEyeDir <span class="sh_symbol">=</span> cameraViewToProjectedLightSpace <span class="sh_symbol">*</span> <span class="sh_type">vec4</span><span class="sh_symbol">(</span>eyeDir<span class="sh_symbol">,</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
<span style="font-size: 9pt;">    </span>projectedEyeDir <span class="sh_symbol">=</span> projectedEyeDir<span class="sh_symbol">/</span>projectedEyeDir<span class="sh_predef_var">.w</span><span class="sh_symbol">;</span>

<span style="font-size: 9pt;">    </span><span class="sh_type">vec2</span> textureCoordinates <span class="sh_symbol">=</span> projectedEyeDir<span class="sh_predef_var">.xy</span> <span class="sh_symbol">*</span> <span class="sh_type">vec2</span><span class="sh_symbol">(</span><span class="sh_number">0.5</span><span class="sh_symbol">,</span><span class="sh_number">0.5</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_type">vec2</span><span class="sh_symbol">(</span><span class="sh_number">0.5</span><span class="sh_symbol">,</span><span class="sh_number">0.5</span><span class="sh_symbol">);</span>

<span style="font-size: 9pt;">    </span><span class="sh_keyword">const</span> <span class="sh_type">float</span> bias <span class="sh_symbol">=</span> <span class="sh_number">0.0001</span><span class="sh_symbol">;</span>
<span style="font-size: 9pt;">    </span><span class="sh_type">float</span> depthValue <span class="sh_symbol">=</span> <span class="sh_predef_func">texture2D</span><span class="sh_symbol">(</span> tShadowMap<span class="sh_symbol">,</span> textureCoordinates <span class="sh_symbol">)</span> <span class="sh_symbol">-</span> bias<span class="sh_symbol">;</span>
<span style="font-size: 9pt;">    </span><span class="sh_keyword">return</span> projectedEyeDir<span class="sh_predef_var">.z</span> <span class="sh_symbol">*</span> <span class="sh_number">0.5</span> <span class="sh_symbol">+</span> <span class="sh_number">0.5</span> <span class="sh_symbol">&lt;</span> depthValue<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span></pre>
				<p>
					The eyeDir that comes in input is in View Space. To find the pixel in the shadow map we need to take that point and covert it into the light's clip space, which means going from Camera View Space into World Space, then into Light View Space, than into Light Projection Space/Clip space. All these transformations are done using matrices; if you are not familiar with space changes you may want to read my article about <a href="http://www.codinglabs.net/article_world_view_projection_matrix.aspx">spaces and transformations</a>.</p>
				<p>
					Once we are in the right space we calculate the texture coordinates and we are finally ready to read from the shadow map. Bias is a small offset that we apply to the values in the map to avoid that because of rounding errors a point ends up shading itself! So we shift all the map back a bit so that all the values in the map are slightly smaller than they should.</p>
				<p>
					Finally we check if the distance between the point and the light (projectedEyeDir) is smaller than the value stored in the depth map. Notice how we need to scale back projectedEyeDir from the -1 -&gt; 1 range to the 0-&gt;1 range as the shadow map is in this latter range.</p>
				<p>
					That's it, not too difficult if you graps the idea of chaning space and mapping pixels into a map of dephts! Feel free to grab the code and have a play with it, as usual, trying yourself is way more useful than any explanation.</p>
				<table padding="0" spacing="0">
					<tbody>
						<tr>
							<td>
								<img alt="Download Deferred Rendering OpenGL Tutorial" src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/zip_crate.png"></td>
							<td>
								<b>OpenGL Shadow Map Deferred Rendering Tutorial</b><br>
								<br>
								<br>
								Only Visual Studio 2010 project file (and source code) is provided<br>
								<a href="http://www.codinglabs.net/download.aspx?f1=shadowmaps_dr_ogl_tut">Download sources (zip ~2.15 Mb)</a></td>
						</tr>
					</tbody>
				</table>
			</td>
		</tr>
	</tbody>
</table>
<p>
	&nbsp;</p>
</span>

							</td>
						</tr>
					</tbody></table>
				</td>
				<td>&nbsp;</td>
			</tr>
		</tbody></table>
	</center>
    </form>


<div id="lightboxOverlay" style="display: none;"></div><div id="lightbox" style="display: none;"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image"><div class="lb-nav"><a class="lb-prev"></a><a class="lb-next"></a></div><div class="lb-loader"><a class="lb-cancel"><img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/loading.gif"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"><img src="./Coding Labs __ Deferred Rendering Shadow Mapping_files/close.png"></a></div></div></div></div></body></html>